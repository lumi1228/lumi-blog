import{_ as n,c as a,a as p,o as e}from"./app-gJ-WBVgF.js";const t={};function l(c,s){return e(),a("div",null,[...s[0]||(s[0]=[p(`<blockquote><p>官方文档参考：<a href="https://gulpjs.com/docs/en/getting-started/quick-start" target="_blank" rel="noopener noreferrer">gulpjs</a><br> 本案例参考当前项目内 demo：@/demo/gulp-demo<br> 开发环境：yarn v1.22.22、gulp: &quot;^5.0.1&quot;</p></blockquote><h3 id="安装与使用" tabindex="-1"><a class="header-anchor" href="#安装与使用"><span>安装与使用</span></a></h3><ul><li>初始化项目，生成 <code>package.json</code></li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">$ mkdir gulp-demo</span>
<span class="line">$ cd gulp-demo</span>
<span class="line">$ npm init -y</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>安装 gulp</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">$ yarn add gulp -D</span>
<span class="line">$ npx gulp --version # 判断安装成功</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>在 <code>package.json</code> 配置脚本</li></ul><div class="code-block-with-title"><div class="code-block-title-bar" data-title="@/package.json"><span>@/package.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gulp&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><ul><li>根目录创建 <code>gulpfile.js</code>，初始化</li></ul><div class="code-block-with-title"><div class="code-block-title-bar" data-title="@/gulpfile.js"><span>@/gulpfile.js</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// 压缩js uglifyjs</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">js</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;this is js scripts task&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// 对scss/less编译，压缩，输出css文件</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">css</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;this is css styles task&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// 监听这些文件的变化</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">watcher</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// 删除dist目录中的内容</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">clean</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">exports<span class="token punctuation">.</span>scripts <span class="token operator">=</span> js</span>
<span class="line">exports<span class="token punctuation">.</span>styles <span class="token operator">=</span> css</span>
<span class="line">exports<span class="token punctuation">.</span><span class="token function-variable function">default</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello gulp&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><ul><li>运行一个task</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">$ npx gulp scripts</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="插件介绍" tabindex="-1"><a class="header-anchor" href="#插件介绍"><span>插件介绍</span></a></h3><blockquote><p>插件官网参考：<a href="https://gulpjs.com/plugins/" target="_blank" rel="noopener noreferrer">gulp-插件</a></p></blockquote><p>常用插件：</p><ul><li>gulp-uglify 代码混淆</li><li>gulp-rename 重命名</li><li>del 清空dist目录</li><li>gulp-autoprefixer 样式的预处理</li><li>gulp-sass css预编译</li><li>gulp-load-plugins 自动加载插件</li></ul><h3 id="配置glup" tabindex="-1"><a class="header-anchor" href="#配置glup"><span>配置glup</span></a></h3><ul><li>安装插件</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">$ yarn add gulp-uglify gulp-rename del gulp-autoprefixer gulp-sass gulp-load-plugins -D</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>gulpfile.js中引入gulp-load-plugins以及我们要使用到的gulp的方法</li></ul><div class="code-block-with-title"><div class="code-block-title-bar" data-title="@/gulpfile.js"><span>@/gulpfile.js</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> <span class="token punctuation">{</span> src<span class="token punctuation">,</span> dest<span class="token punctuation">,</span> series<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;gulp&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">const</span> plugins <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;gulp-load-plugins&#39;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h4 id="gulp-uglify-改写压缩js方法" tabindex="-1"><a class="header-anchor" href="#gulp-uglify-改写压缩js方法"><span>gulp-uglify：改写压缩JS方法</span></a></h4><ul><li>在js方法中，使用src()方法来指定要压缩的JS文件路径，然后通过pipe()方法将流传递给uglify插件进行压缩。最后，再通过dest()方法将处理后的结果输出到指定的目录下。</li></ul><div class="code-block-with-title"><div class="code-block-title-bar" data-title="@/gulpfile.js"><span>@/gulpfile.js</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">function</span> <span class="token function">js</span> <span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&#39;*.js&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 源文件</span></span>
<span class="line">    	<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>plugins<span class="token punctuation">.</span><span class="token function">uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 压缩</span></span>
<span class="line">    	<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&#39;./dist/js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 输出</span></span>
<span class="line">        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;this is js scripts task&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 回调函数</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><ul><li>验证：创建index.js， 运行<code>npx gulp scripts</code>，查看dist目录下是否生成压缩后的js文件</li></ul><h4 id="del-清空dist目录" tabindex="-1"><a class="header-anchor" href="#del-清空dist目录"><span>del：清空dist目录</span></a></h4><ul><li>引入del插件，在clean方法中调用del.sync()方法来清空dist目录。</li></ul><div class="code-block-with-title"><div class="code-block-title-bar" data-title="@/gulpfile.js"><span>@/gulpfile.js</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// 说明：del插件无gulp-开头，无法通过plugins插件直接使用，需要单独引入</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">del</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;del&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">m</span> <span class="token operator">=&gt;</span> m<span class="token punctuation">.</span><span class="token function">deleteAsync</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">clean</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token string">&#39;./dist&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><ul><li>验证：运行<code>npx gulp clean</code>，查看dist目录是否被清空</li></ul><h4 id="gulp-sass、gulp-autoprefixer-改写css处理" tabindex="-1"><a class="header-anchor" href="#gulp-sass、gulp-autoprefixer-改写css处理"><span>gulp-sass、gulp-autoprefixer：改写css处理</span></a></h4><ul><li>下载sass插件</li><li>引入gulp-autoprefixer插件，在css方法中调用sass和autoprefixer插件进行编译和添加浏览器前缀。</li></ul><div class="code-block-with-title"><div class="code-block-title-bar" data-title="@/gulpfile.js"><span>@/gulpfile.js</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> sass <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;gulp-sass&#39;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;sass&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">autoprefixer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;gulp-autoprefixer&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">m</span> <span class="token operator">=&gt;</span> m<span class="token punctuation">.</span>default<span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">// 对scss/less编译，压缩，输出css文件</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">css</span> <span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> autoprefixerPlugin <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">autoprefixer</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&#39;*.scss&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    	<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">sass</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">outputStyle</span><span class="token operator">:</span> <span class="token string">&#39;compressed&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">autoprefixerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">cascade</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">remove</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span> </span>
<span class="line">    	<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&#39;./dist/css&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 输出css文件</span></span>
<span class="line">    <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>在packge.json中配置browerslist，用于指定目标浏览器</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="@/package.json"><span>@/package.json</span></div><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token property">&quot;browserslist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">  <span class="token string">&quot;last 2 Version&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string">&quot;&gt; 2%&quot;</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><ul><li>验证：创建index.scss， 运行<code>npx gulp styles</code>，查看dist目录下是否生成压缩后的css文件</li></ul><h4 id="watcher-监听文件变化" tabindex="-1"><a class="header-anchor" href="#watcher-监听文件变化"><span>watcher：监听文件变化</span></a></h4><div class="code-block-with-title"><div class="code-block-title-bar" data-title="@/gulpfile.js"><span>@/gulpfile.js</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> <span class="token punctuation">{</span> src<span class="token punctuation">,</span> dest<span class="token punctuation">,</span> series<span class="token punctuation">,</span> watch <span class="token punctuation">,</span>parallel<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;gulp&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">watcher</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">&#39;js/*.js&#39;</span><span class="token punctuation">,</span> js<span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">&#39;css/*.scss&#39;</span><span class="token punctuation">,</span> css<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">exports<span class="token punctuation">.</span><span class="token function-variable function">default</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    clean<span class="token punctuation">,</span></span>
<span class="line">    <span class="token function">parallel</span><span class="token punctuation">(</span>js<span class="token punctuation">,</span> css<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    watcher<span class="token punctuation">,</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello gulp&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><ul><li>验证： 运行<code>npm run build</code>，修改js或scss文件，glup会监听文件变化，自动编译</li></ul><h3 id="热编译、浏览器自动刷新" tabindex="-1"><a class="header-anchor" href="#热编译、浏览器自动刷新"><span>热编译、浏览器自动刷新</span></a></h3><ul><li>安装依赖：</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">$ yarn add browser-sync -D</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>配置browserSync、创建serve任务</li></ul><div class="code-block-with-title"><div class="code-block-title-bar" data-title="@/gulpfile.js"><span>@/gulpfile.js</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> browserSync <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;browser-sync&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">serve</span> <span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    browserSync<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">server</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token literal-property property">baseDir</span><span class="token operator">:</span> <span class="token string">&#39;./&#39;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><ul><li>引入reload方法，并改写js、css方法；增加default任务，增加serve方法</li></ul><div class="code-block-with-title"><div class="code-block-title-bar" data-title="@/gulpfile.js"><span>@/gulpfile.js</span></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> reload <span class="token operator">=</span> browserSync<span class="token punctuation">.</span>reload</span>
<span class="line"><span class="token keyword">function</span> <span class="token function">js</span> <span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&#39;*.js&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 源文件</span></span>
<span class="line">    	<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>plugins<span class="token punctuation">.</span><span class="token function">uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 压缩</span></span>
<span class="line">    	<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&#39;./dist/js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 输出</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">stream</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;this is js scripts task&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment">// cb() // 回调函数</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 对scss文件编译，压缩，输出css文件</span></span>
<span class="line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">css</span> <span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> autoprefixerPlugin <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">autoprefixer</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&#39;*.scss&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    	<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">sass</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">outputStyle</span><span class="token operator">:</span> <span class="token string">&#39;compressed&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">autoprefixerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">cascade</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">remove</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span> </span>
<span class="line">    	<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&#39;./dist/css&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 输出css文件</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">stream</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment">// cb()</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">exports<span class="token punctuation">.</span>default <span class="token operator">=</span> <span class="token function">series</span><span class="token punctuation">(</span></span>
<span class="line">    clean<span class="token punctuation">,</span></span>
<span class="line">    <span class="token function">parallel</span><span class="token punctuation">(</span>js<span class="token punctuation">,</span> css<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    watcher<span class="token punctuation">,</span></span>
<span class="line">    serve</span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>创建index.html，运行<code>npm run build</code>，修改js或scss文件，浏览器会自动刷新</p>`,46)])])}const o=n(t,[["render",l]]),u=JSON.parse('{"path":"/fullstack/L1/04.tool-gulp.html","title":"工程化之打包工具 webpack","lang":"zh-CN","frontmatter":{"lang":"zh-CN","title":"工程化之打包工具 webpack","description":"webpack"},"git":{"updatedTime":1763517892000,"contributors":[{"name":"lousm","username":"lousm","email":"lousm@yiche.com","commits":3,"url":"https://github.com/lousm"}],"changelog":[{"hash":"22a16686565cb988681d92dc62c9a74e37e2af18","time":1763517892000,"email":"lousm@yiche.com","author":"lousm","message":"fix: format"},{"hash":"7f0e0428297b9fec890420b4f2b2531a10385501","time":1763517427000,"email":"lousm@yiche.com","author":"lousm","message":"redirect：demo"},{"hash":"e7a62736567c351c2010b72fa485e58c1f537cfc","time":1763465932000,"email":"lousm@yiche.com","author":"lousm","message":"demo 、doc : add"}]},"filePathRelative":"fullstack/L1/04.tool-gulp.md"}');export{o as comp,u as data};
